<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<script src="http://clevertree.github.io/zip-lookup/zip-lookup.min.js" type="text/javascript" ></script>
<script>
  function updateCostDetails(){
    var blackBelt="The first event for Black Belts is $100 and each additional event is $25"
    var colorBelt="The first event for Color Belts is $90 and each additional event is $20"
    if (document.getElementById('blackBelt').checked) {
      document.getElementById("costDetail").innerHTML=blackBelt;
    }
    else {
      document.getElementById("costDetail").innerHTML=colorBelt;
    }
    updateTotal()
  }
  function updateTotal(){
    if (
      document.querySelectorAll('input[name="beltRank"]:checked').length > 0 &&
      document.querySelectorAll('input[name="events"]:checked').length > 0
      ) {
      if (document.getElementById('blackBelt').checked) {
        var eventPrice = 25
        var total = 75
      }
      else {
        var eventPrice = 20
        var total = 70
      }
      total += eventPrice * document.querySelectorAll('input[name="events"]:checked').length
      document.getElementById("total").value = "$" + total
    }
    else if (
      document.querySelectorAll('input[name="beltRank"]:checked').length == 0 &&
      document.querySelectorAll('input[name="events"]:checked').length > 0
    ) {
      alert("Please choose a Belt Rank to get your Total")
    }
  }
  function convertWeight(amount,unit) {
    if (unit == 'lbs') {
      document.getElementById("weightKgs").value = (amount * 0.45359237).toFixed(2)
    }
    else if (unit == 'kgs') {
      document.getElementById("weightLbs").value = (amount / 0.45359237).toFixed(2)
    }
    else {
      console.log("Error, unsupported unit " + unit)
    }
  }
  function calculateAge(dateString) {
    var today = new Date()
    var age = today.getFullYear() - dateString.split('/')[2]
    document.getElementById("inputAge").value = age
    if (age <= 5) {
      var ageClass = "Titan"
    }
    else if (age > 5 && age <= 7) {
      var ageClass = "Tiger"
    }
    else if (age > 7 && age <= 9) {
      var ageClass = "Dragon"
    }
    else if (age > 9 && age <= 11) {
      var ageClass = "Youth"
    }
    else if (age > 11 && age <= 14) {
      var ageClass = "Cadet"
    }
    else if (age > 14 && age <= 17) {
      var ageClass = "Junior"
    }
    else if (age > 17 && age <= 32) {
      var ageClass = "Senior"
    }
    else if (age > 32) {
      var ageClass = "Ultra"
    }
    document.getElementById("ageClass").innerHTML = "Age Group is <b>" + ageClass + "</b>"
  }
</script>
<body>
  <div class="container">
    <h1>Registration Form</h1>
    <form action="/register" method="post" id="eventRegistration">
      <label for="inputName" class="form-check-label">Competitor Name</label>
      <div class="row g-3">
        <div class="col">
          <input type="text" class="form-control" placeholder="First name" aria-label="First name">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Last name" aria-label="Last name">
        </div>
      </div>
      <div class="row g-3">
        <div class="col">
          <label for="inputEmail" class="form-check-label">Email</label>
          <input type="email" class="form-control" id="inputEmail">
        </div>
        <div class="col">
          <label for="inputPhone" class="form-check-label">Phone</label>
          <input type="phone" class="form-control" id="inputPhone">
        </div>
      </div>
      <div class="row g-3">
        <div class="col-12">
          <label for="inputAddress" class="form-check-label">Address</label>
          <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
        </div>
        <div class="col-12">
          <label for="inputAddress2" class="form-check-label">Address 2</label>
          <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
        </div>
        <div class="col-md-6">
          <label for="inputCity" class="form-check-label">City</label>
          <input type="text" class="form-control zip-lookup-field-city-title-case" id="inputCity">
        </div>
        <div class="col-md-4">
          <label for="inputState" class="form-check-label">State</label>
          <select id="inputState" class="form-select zip-lookup-field-state">
            <option selected>Choose...</option>
            <option value="AK">Alaska</option>
            <option value="AL">Alabama</option>
            <option value="AR">Arkansas</option>
            <option value="AZ">Arizona</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DC">District of Columbia</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="IA">Iowa</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="MA">Massachusetts</option>
            <option value="MD">Maryland</option>
            <option value="ME">Maine</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MO">Missouri</option>
            <option value="MS">Mississippi</option>
            <option value="MT">Montana</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="NE">Nebraska</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NV">Nevada</option>
            <option value="NY">New York</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="PR">Puerto Rico</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VA">Virginia</option>
            <option value="VT">Vermont</option>
            <option value="WA">Washington</option>
            <option value="WI">Wisconsin</option>
            <option value="WV">West Virginia</option>
            <option value="WY">Wyoming</option>
          </select>
        </div>
        <div class="col-md-2">
          <label for="inputZip" class="form-check-label">Zip</label>
          <input type="text" class="form-control zip-lookup-field-zipcode" id="inputZip">
        </div>
      </div>
      <div class="row g-3">
        <div class="col-3">
          <div class="row g-3">
            <div class="col-8">
              <label class="form-check-label">Birthday</label>
              <input class="form-control datepicker" type="text" name="birthday" placeholder="MM/DD/YYYY" oninput="calculateAge(this.value)">
            </div>
            <div class="col-3">
              <label class="form-check-label">Age</label>
              <input class="form-control" type="text" name="age" id="inputAge" readonly>
            </div>
          </div>
          <div class="row g-3">
            <p id="ageClass"></p>
          </div>
        </div>
        <div class="col-1"></div>
        <div class="col-2">
          <label class="form-check-label">Gender</label>
          <div class="row g-3">
            <div class="col">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderMale" value="male">
                <label class="form-check-label" for="genderMale">Male</label>
              </div>
            </div>
          </div>
          <div class="row g-3">
            <div class="col">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="female">
                <label class="form-check-label" for="genderFemale">Female</label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-6">
          <label class="form-check-label">Weight</label>
          <div class="row g-3">
            <div class="col-2">
              <input class="form-control" type="text" name="weight" id="weightLbs" placeholder="lbs" oninput="convertWeight(this.value,'lbs')">
              <label class="form-label" for="weightLbs">lbs</label>
            </div>
            <div class="col-2">
              <input class="form-control" type="text" name="weight" id="weightKgs" placeholder="kgs"oninput="convertWeight(this.value,'kgs')">
              <label class="form-label" for="weightKgs">kgs</label>
            </div>
          </div>
        </div>
      </div>
      <div class="row g-3">
        <label class="form-check-label" for="profilePic">Profile Photo</label>
        <input type="file" class="form-control" id="profilePic">
        <p>A photo is required to create a badge id. Please make sure photo is croped showing only an above the shoulder picture.</p>
      </div>
      <div class="row g-3">
        <div class="col-md-6">
          <label for="inputSchool" class="form-check-label">Taekwondo School Or Club</label>
          <input type="text" class="form-control" id="inputSchool">
        </div>
        <div class="col-md-6">
          <label for="inputCoach" class="form-check-label">Taekwondo Instructor / Coach</label>
          <input type="text" class="form-control" id="inputCoach">
        </div>
      </div>
      <div class="row g-3">
        <label for="belt">Belt Rank</label>
        <div class="col-md-2">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="blackBelt" value="black" onclick="updateCostDetails()">
            <label class="form-check-label" for="blackBelt">Black</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="brownBelt" value="brown" onclick="updateCostDetails()">
            <label class="form-check-label" for="brownBelt">Brown</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="redBelt" value="red" onclick="updateCostDetails()">
            <label class="form-check-label" for="redBelt">Red</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="blueBelt" value="blue" onclick="updateCostDetails()">
            <label class="form-check-label" for="blueBelt">Blue</label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="greenBelt" value="green" onclick="updateCostDetails()">
            <label class="form-check-label" for="greenBelt">Green</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="orangeBelt" value="orange" onclick="updateCostDetails()">
            <label class="form-check-label" for="orangeBelt">Orange</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="yellowBelt" value="yellow" onclick="updateCostDetails()">
            <label class="form-check-label" for="yellowBelt">Yellow</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="beltRank" id="whiteBelt" value="white" onclick="updateCostDetails()">
            <label class="form-check-label" for="whiteBelt">White</label>
          </div>
        </div>
        <div class="col-md-8">
          <p id="costDetail"></p>
        </div>
      </div>
      <div class="row g-3">
        <label for="belt">Events</label>
        <div class="col-md-2">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="events" id="sparring" onclick="updateTotal()">
            <label class="form-check-label" for="sparring">Sparring</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="events" id="poomsae" onclick="updateTotal()">
            <label class="form-check-label" for="poomsae">Poomsae</label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="events" id="team poomsae"onclick="updateTotal()">
            <label class="form-check-label" for="team poomsae">Team Poomsae</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="events" id="demonstration"onclick="updateTotal()">
            <label class="form-check-label" for="demonstration">Demonstration</label>
          </div>
        </div>
      </div>
      <div class="row g-3">
        <div class="col-md-8">
          <label class="form-check-label" for="demonstration">Your Total</label>
          <input class="form-control" type="text" value="$0" id="total" aria-label="Total" readonly>
        </div>
      </div>
      <button type="submit" class="btn btn-primary" disabled>Register</button>
    </form>
  </div>
</body>
</html>
